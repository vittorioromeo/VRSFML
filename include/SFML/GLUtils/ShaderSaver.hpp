#pragma once
// LICENSE AND COPYRIGHT (C) INFORMATION
// https://github.com/vittorioromeo/VRSFML/blob/master/license.md


namespace sf::priv
{
////////////////////////////////////////////////////////////
/// \brief Automatic wrapper for saving and restoring the current shader binding
///
////////////////////////////////////////////////////////////
class ShaderSaver
{
public:
    ////////////////////////////////////////////////////////////
    /// \brief Default constructor
    ///
    /// The current shader binding is saved.
    ///
    ////////////////////////////////////////////////////////////
    ShaderSaver();

    ////////////////////////////////////////////////////////////
    /// \brief Destructor
    ///
    /// The previous shader binding is restored.
    ///
    ////////////////////////////////////////////////////////////
    ~ShaderSaver();

    ////////////////////////////////////////////////////////////
    ShaderSaver(const ShaderSaver&)            = delete;
    ShaderSaver& operator=(const ShaderSaver&) = delete;

    ////////////////////////////////////////////////////////////
    ShaderSaver(ShaderSaver&&)            = delete;
    ShaderSaver& operator=(ShaderSaver&&) = delete;

private:
    ////////////////////////////////////////////////////////////
    // Member data
    ////////////////////////////////////////////////////////////
    int m_shaderBinding; //!< Shader binding to restore
};

} // namespace sf::priv
